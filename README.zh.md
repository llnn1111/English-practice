 媒体管理系统  

       媒体管理系统功能
        1.管理媒体内容的“WorkSpaces”。每个“工作区”都是一个媒体内容的存储库。示例 1：一个工作区可以包含所有“新闻”内容，另一个工作区可以包含所有“运动”内容；示例 2：一个工作区可以包含“用户 A”的所有内容，另一个工作区可以包含“用户 B”的所有内容
        2.管理自定义工作流（工作流示例：摄取两个视频、连接它们、剪切生成的视频、在其上叠加徽标、使用不同的配置文件对其进行编码等）
        3.管理工作流库。例如，可以创建工作流以从视频中检索 Picture。它将由几个 Task 组成，一个 Task 在视频中寻找人脸，如果它没有找到任何人脸（OnError 事件），则有另一个 Task 在指定实例处获取图片（即：自视频开始后 30 秒）。然后我们有生成的图片的编码，依此类推。所有这些都可以保存为“工作流作为库”，并且可以在其他工作流中用作简单的任务。
        4.管理与每个内容关联的自定义元数据
        5.管理媒体内容之间的交叉引用（即：ImageOfVideo、ImageOfAudio、FaceOfVideo、CutOfVideo、CutOfAudio 等）
        6.管理编码器数组、每种编码的优先级以及每个工作区的专用编码器
        7.实现媒体功能（即：编码、剪切（KeyFrameSeeking、FrameAccurateWithoutEncoding 和 FrameAccurateWithEncoding）、拼接、叠加、幻灯片放映、降低视频速度、画中画、检查流以进行监控等）
        8.任何功能中的多轨道支持（LiveRecorder、Concat、Cut、ChangeFileFormat 等）
        9.多比特率支持
        10.与 Kaltura 集成
        11.提取 VOD 和 Live YouTube 内容
        12.录制实时 IP 流，甚至来自 YouTube
        13.live Recorder 虚拟 VOD
        14.为 CDN 的实时 IP 流式处理和媒体点播实施代理，或通过 HLS/DASH 请求15.提供实时流式处理
        16.认证 CDN：CDN77、AWS
        17.Live-Grid （Live-Mosaic） 将多个视频合成/合并到一个视频中（例如，用于监控/监视）
        18.通过按路径或参数（令牌、生存时间、最大重试次数）创建授权来管理内容的交付
        19.在社交媒体上发布媒体（Facebook、YouTube 等）
        20.实施计算机视觉 （Face Recognition， Face Identification）
        21.实施图像处理
        22.播放器
        (1)通过用户标记入点-出点编辑视频。切割完成后，如果切割不准确，可以很容易地调整切割以改进它。
        (2)通过用户标记入点和出点编辑音频。切割完成后，如果切割不准确，可以很容易地调整切割以改进它。
        (3)通过用户选择编辑图像裁剪。一旦裁剪完成，如果裁剪不准确，可以很容易地调整裁剪以改善它。
        23.库可用（实际上只有 Java 版本可用）
        (1)轻松调用任何 MMS REST API
        (2)帮助通过程序构建任何复杂的工作流程
        (3)支持 LDAP 集成（如果需要）
        24.媒体内容可能是一段视频、一段音频、一张图片或者一个播放列表。
        25.它被设计为一种服务来使用，用户必须先注册，然后才能使用该平台的所有功能。一旦用户注册成功，会为其创建一个工作区，所有创建的内容都将与该工作区相关联。
        26.当前，CatraMMS 使用 FFmpeg 对内容进行编码，使用 ImageMagick 和 OpenCV 来实现图像处理和计算机视觉功能。
        27.CatraMMS 提供了详细的 REST API，通过这些 API 可以对该平台进行任何类型的操作。甚至还可以基于这些 API 构建图形用户界面（GUI）或应用程序（APP）。


<!--by 罗娜-->

        以下是 MMS 和 CatraMMS 的物理架构的介绍:

        ┌─────────────┐
        │     终端用户  │
        └──────┬───────┘
               │
        ┌──────▼───────┐
        │   API接口用户 │
        └──────┬───────┘
               │
        ┌──────▼───────┐
        │     图形界面  │
        └──────┬───────┘
               │
        ┌──────▼───────┐
        │    客户端应用 │
        └──────┬───────┘
               │
        ┌──────▼───────┐   ┌────────────────┐
        │    转码服务器 │   │MMS引擎服务器    
        └──────┬───────┘   └────────┬───────┘
               │                    │
        ┌──────▼───────┐   ┌────────▼───────┐
        │   API服务器   │  │   Clone tt    │
        │              │   │   https       │
        └──────────────┘   └────────────────┘

<!--by 罗娜-->


        项目特点
        MMS 是一个 全功能、高灵活性的媒体管理平台，覆盖从采集、处理、分析到分发的全生命周期，尤其适合需要处理大规模媒体资源的企业或开发者。其核心优势在于： 
        (1)模块化设计：工作区、工作流、API 均可按需定制。 
        (2)智能与自动化：结合 AI 与规则引擎提升效率。 
        (3)开放集成：通过 REST API 和 Java 库支持深度二次开发


<!--by 罗娜-->




<!--by 韦淑静-->

媒体管理系统主要功能的使用教程

特效处理功能
（1）图片叠加至视频
实现逻辑：通过工作流配置文件定义任务链实现。在配置文件中采用GroupOfTasks类型，嵌套Add-Content子任务加载视频源，并通过FFmpeg等专业视频处理库配置overlay参数，完成图片的精准叠加。

应用场景：广泛应用于广告制作（如嵌入品牌logo）和影视后期（如添加特效氛围图层）等领域。

操作步骤：
素材准备：整理待叠加图片与目标视频文件。
配置文件编写：定义任务类型及参数（如叠加位置、透明度等）。
任务执行：提交配置文件，系统自动完成特效合成。
操作如下图：
准备好视频文件和待叠加图片，在页面选择工作流编辑器（如下图）。
![图片叠加至视频](</iamges/picture overlay  video-01.png>)

在工作流中添加所需功能的子任务，在左侧任务库栏可以看到功能（如下图），添加图片叠加到视频功能的子任务，随即定义任务的类型和参数，最后保存属性。
![图片叠加至视频](</iamges/picture overlay  video-02.png>)
![图片叠加至视频](</iamges/picture overlay  video-03.png>)

<!--by 韦淑静-->


（2）制作幻灯片
实现逻辑：整合视频帧处理与拼接功能，将多组图片/视频片段依序编排，通过自定义每段素材时长生成流畅的幻灯片视频。

应用场景：适用于教学视频、产品展示、活动回顾等场景，支持多素材有序呈现。

操作步骤：
素材收集：整理图片或视频片段并分类排序。
参数配置：在配置文件中定义素材顺序、播放时长及过渡效果。
执行任务：提交配置，系统自动生成幻灯片式视频成品。
操作如下图：
在左侧任务库栏添加幻灯片功能的子任务，随后定义素材的顺序、播放时间等参数，最后保存属性。
![制作幻灯片](</iamges/make slides-01.png>)
![制作幻灯片](</iamges/make slides-02.png>)

<!--by 韦淑静-->

视频速度调整功能
视频加速或减速
实现逻辑：该功能依托MMSEngine模块开发，核心依赖FFmpeg等专业视频处理库。具体原理是通过调整视频的帧率或重新计算时间戳来改变播放速度。例如，提升帧率可使视频加速，降低帧率则能让视频减速。

应用场景：
在影视剪辑领域，加速视频能够快速切换场景，营造紧张刺激的氛围；减速视频则可放慢动作细节，增强画面的表现力与感染力。在体育运动分析方面，减慢运动员动作视频，有助于专业人员逐帧分析技术细节，提升训练效果。

操作步骤：
素材准备：确定需要调整速度的视频文件，确保文件格式兼容。
创建配置文件：在配置文件中添加“视频速度调整”任务节点，按需设置速度参数（如加速2倍、减速至0.5倍等）。
任务执行：提交配置文件至系统，系统将自动读取参数，对视频进行精准的速度调整，生成目标视频文件。

操作如下图：
在左侧任务库栏添加视频速度的子任务，随即选择速度类型和大小，最后保存属性。
![视频速度调整](</iamges/video speed-01.png>)
![视频速度调整](</iamges/video speed-02.png>)

将所有子任务连接起来，这样就构建了一个简单的工作流，最后执行该工作流（操作如下图）。
![工作流子任务配置](/iamges/工作流配置步骤-01.png)
![工作流子任务配置](/iamges/工作流配置步骤-02.png)

执行该工作流后，平台页面可以显示对应工作流的 JSON 文档，从中可以查看到添加的每一项子任务（如下图）。
![工作流子任务配置](/iamges/工作流配置步骤-03.png)
![工作流子任务配置](/iamges/工作流配置步骤-04.png)
![工作流子任务配置](/iamges/工作流配置步骤-05.png)

最后，我们可验证刚才执行的工作流是否成功。返回系统首页，在视频右上角的“设置”图标处点击，选择对应的工作流，系统会自动匹配工作流名称。接着，点击列表图标并选择“详情”，即可清晰查看刚才添加的子任务，包括图片叠加视频、幻灯片制作及视频加速等操作的执行情况（操作如下图）。
![工作流子任务配置](/iamges/工作流配置步骤-06.png)
![工作流子任务配置](/iamges/工作流配置步骤-07.png)
![工作流子任务配置](/iamges/工作流配置步骤-08.png)
![工作流子任务配置](/iamges/工作流配置步骤-09.png)

<!--by 韦淑静-->


其他功能

（1）文件存储管理
功能实现：文件存储管理涵盖文件摄入和存储路径管理等环节。其中，文件摄入借助工作流配置中的 Add - Content 任务完成。
作用价值：确保文件精准摄入系统，并实现高效存储与有序组织。这极大提升了文件管理效率，为后续查询、调用和维护提供便利。在视频处理场景下，可将各类视频文件及相关资源存储于合适位置，便于后续编辑、编码等操作顺利开展。
（2）工作流管理
功能实现：工作流管理依托工作流配置文件及配套处理函数实现。配置文件采用 JSON 格式，清晰定义工作流类型、任务内容及参数设置等关键信息。
作用价值：实现系统任务的自动化与协同处理。通过工作流定义，可将关联任务按既定顺序与规则组合，显著提高工作效率与精准度。在视频处理系统中，可创建涵盖视频上传、编码、特效添加等任务的工作流，系统依配置自动完成全流程任务。
（3）系统配置管理
功能实现：系统配置管理涉及数据库、编码优先级等多方面配置。在代码层面，借助 JSON 配置文件及数据库操作实现灵活配置管理。
作用价值：依据不同需求与环境，对系统进行定制化配置。通过参数调整，可优化系统行为与性能，增强其适应性。在视频处理系统中，可根据视频质量要求配置编码优先级，充分满足不同用户的个性化需求。

<!--by 韦淑静-->

